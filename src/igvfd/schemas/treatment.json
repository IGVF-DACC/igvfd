{
    "title": "Treatment",
    "id": "/profiles/treatment.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "required": [
        "amount",
        "amount_units",
        "treatment_term_id",
        "treatment_term_name",
        "treatment_type"
    ],
    "identifyingProperties": [
        "uuid",
        "aliases"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "mixins.json#/schema_version"
        },
        {
            "$ref": "mixins.json#/uuid"
        },
        {
            "$ref": "mixins.json#/aliases"
        },
        {
            "$ref": "mixins.json#/standard_status"
        },
        {
            "$ref": "mixins.json#/submitted"
        },
        {
            "$ref": "mixins.json#/notes"
        },
        {
            "$ref": "mixins.json#/documents"
        },
        {
            "$ref": "mixins.json#/product_info"
        }
    ],
    "dependentSchemas": {
        "amount": {
            "required": [
                "amount_units"
            ],
            "comment": "Amount units must be specified if amount is specified"
        },
        "duration": {
            "required": [
                "duration_units"
            ],
            "comment": "Duration units must be specified if duration is specified"
        },
        "post_treatment_time": {
            "required": [
                "post_treatment_time_units"
            ],
            "comment": "post_treatment_time_units units must be specified if duration is specified"
        },
        "treatment_term_id": {
            "oneOf": [
                {
                    "properties": {
                        "treatment_type": {
                            "enum": [
                                "protein"
                            ]
                        },
                        "treatment_term_id": {
                            "pattern": "^((UniProtKB:[A-Z0-9]{6})|(NTR:[0-9]{2,8}))$"
                        }
                    }
                },
                {
                    "properties": {
                        "treatment_type": {
                            "enum": [
                                "chemical"
                            ]
                        },
                        "treatment_term_id": {
                            "pattern": "^((CHEBI:[0-9]{1,7})|(NTR:[0-9]{2,8}))$"
                        }
                    }
                }
            ]
        }
    },
    "properties": {
        "schema_version": {
            "default": "1"
        },
        "documents": {
            "description": "Documents that describe the treatment protocol."
        },
        "amount": {
            "title": "Amount",
            "type": "number",
            "description": "Amount should be used  in conjunction with amount_units and is used to indicate the exact quantity of the specific chemical or protein that was used to treat a biosample."
        },
        "amount_units": {
            "title": "Amount units",
            "type": "string",
            "enum": [
                "mg/kg",
                "mg/mL",
                "mM",
                "ng/mL",
                "nM",
                "percent",
                "μg/kg",
                "μg/kg",
                "μg/mL",
                "μM"
            ],
            "description": "Amount should be used in conjunction with amount_units."
        },
        "duration": {
            "title": "Time duration",
            "type": "number",
            "description": "Duration should be used  in conjunction with duration_units to indicate the time that elapsed between start of the treatment upto the end of the treatment."
        },
        "duration_units": {
            "title": "Time duration units",
            "type": "string",
            "enum": [
                "second",
                "minute",
                "hour",
                "day"
            ],
            "description": "Duration should be used  in conjunction with duration_units."
        },
        "pH": {
            "title": "pH",
            "type": "number"
        },
        "purpose": {
            "title": "Purpose",
            "type": "string",
            "enum": [
                "activation",
                "agonist",
                "antagonist",
                "control",
                "differentiation",
                "de-differentiation",
                "perturbation",
                "selection",
                "stimulation"
            ],
            "description": "The intended purpose for treating the samples; Activation: treatment is known to activate a pathway in the biosample; Agonist: a substance which initiates a physiological response when combined with a receptor; Antagonist: a substance that interferes with or inhibits the physiological action of another; Control: treatment applied to a sample for control purposes; Differentiation: treatment that is applied to convert a less specialized cell to a more specialized cell; De-differentiation: treatment used to reprogram differentiated cells back to less determined cell states; Perturbation: treatment applied to the sample in order to study the effect of its application; Selection: treatment used to affect biosample in a way that can be used to distinguish cells and select for in the downstream steps; Stimulation: treatment applied to stimulate a cellular pathway."
        },
        "post_treatment_time": {
            "title": "Post-treatment time",
            "description": "The time past the point when biosamples were removed from the treatment solution before being sampled or treated with the next treatment. Should be used in conjunction with post_treatment_time_units.",
            "type": "string",
            "pattern": "^(\\d+(\\.[1-9])?(\\-\\d+(\\.[1-9])?)?)|(unknown)$"
        },
        "post_treatment_time_units": {
            "title": "Post-treatment time units",
            "description": "The units of time that elapsed past the point when biosamples were washed from the treatment solution.  Should be used in conjunction with post_treatment_time_units.",
            "type": "string",
            "enum": [
                "minute",
                "hour",
                "day",
                "week",
                "month"
            ]
        },
        "temperature (Celsius)": {
            "title": "Temperature",
            "type": "number",
            "description": "Temperature can only be specified in Celsius"
        },
        "treatment_type": {
            "title": "Treatment type",
            "type": "string",
            "enum": [
                "chemical",
                "protein"
            ],
            "description": "The classification type that specifies the exact molecular nature of the treatment agent. Chemical type refers to (natural or synthetic) organic/inorganic compounds and also includes drugs, while protein type is restricted to active protein biomolecules that are naturally or artifically synthesized via cellular translation mechanism of converting DNA into chain of amino acids. Note: CHEBI id must be provided for chemical type and Uniprot id must be specified for protein type. Example of chemical type: lactate, ethanol,hydrocortisone, LPS etc. Example of protein type: Interferons, interlukin, antibodies, etc. "
        },
        "treatment_term_id": {
            "@type": "@id",
            "title": "Biosample treatment term ID",
            "description": "Ontology identifier describing a component in the treatment.",
            "type": "string",
            "pattern": "^((CHEBI:[0-9]{1,7})|(UniProtKB:[A-Z0-9]{6})|(NTR:[0-9]{2,8}))$"
        },
        "treatment_term_name": {
            "title": "Biosample treatment",
            "description": "Ontology term describing a component in the treatment.",
            "type": "string"
        }
    },
    "facets": {
        "treatment_type": {
            "title": "Treatment type"
        },
        "purpose": {
            "title": "Purpose"
        },
        "status": {
            "title": "Status"
        }
    },
    "changelog": "/profiles/changelogs/treatment.md"
}
