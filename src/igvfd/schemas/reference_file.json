{
    "title": "Reference File",
    "$id": "/profiles/reference_file.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "A file containing diverse reference related information.",
    "required": [
        "award",
        "lab",
        "md5sum",
        "file_format",
        "file_set",
        "content_type",
        "controlled_access"
    ],
    "identifyingProperties": [
        "uuid",
        "accession",
        "alternate_accessions",
        "aliases",
        "md5sum"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "file.json#/properties"
        },
        {
            "$ref": "mixins.json#/basic_item"
        },
        {
            "$ref": "mixins.json#/accession"
        },
        {
            "$ref": "mixins.json#/attribution"
        },
        {
            "$ref": "mixins.json#/documents"
        },
        {
            "$ref": "mixins.json#/transcriptome_annotation"
        },
        {
            "$ref": "mixins.json#/file_format_type"
        },
        {
            "$ref": "mixins.json#/release_timestamp"
        },
        {
            "$ref": "mixins.json#/assembly"
        },
        {
            "$ref": "mixins.json#/controlled_access"
        },
        {
            "$ref": "mixins.json#/source_url"
        },
        {
            "$ref": "mixins.json#/preview_timestamp"
        },
        {
            "$ref": "mixins.json#/catalog_properties"
        },
        {
            "$ref": "mixins.json#/anvil_url"
        },
        {
            "$ref": "mixins.json#/external_host"
        }
    ],
    "dependentSchemas": {
        "$merge": [
            "file.json#/dependentSchemas",
            "shared_dependencies.json#/external_host"
        ],
        "file_format": {
            "comment": "Bed files must specify their file format type. Vcf files must specify a relevant assembly.",
            "allOf": [
                {
                    "$merge": "file.json#/dependentSchemas/file_format"
                },
                {
                    "oneOf": [
                        {
                            "not": {
                                "required": [
                                    "file_format_type"
                                ]
                            },
                            "properties": {
                                "file_format": {
                                    "enum": [
                                        "vcf"
                                    ]
                                }
                            }
                        },
                        {
                            "required": [
                                "file_format_type"
                            ],
                            "properties": {
                                "file_format": {
                                    "enum": [
                                        "bed"
                                    ]
                                }
                            }
                        },
                        {
                            "not": {
                                "required": [
                                    "file_format_type"
                                ]
                            },
                            "properties": {
                                "file_format": {
                                    "enum": [
                                        "csv",
                                        "dat",
                                        "fasta",
                                        "gaf",
                                        "gds",
                                        "gtf",
                                        "obo",
                                        "owl",
                                        "PWM",
                                        "tar",
                                        "tsv",
                                        "txt",
                                        "xml"
                                    ]
                                }
                            }
                        }
                    ]
                }
            ]
        }
    },
    "type": "object",
    "properties": {
        "schema_version": {
            "default": "22"
        },
        "catalog_adapters": {
            "title": "IGVF Catalog Adapters",
            "description": "IGVF Catalog Adapters that ingests this file",
            "type": "array",
            "permission": "admin_only",
            "uniqueItems": true,
            "items": {
                "title": "IGVF Catalog Adapter",
                "description": "Identifier pointing to a Github link of the IGVF Catalog adapter that processes this file.",
                "type": "string",
                "pattern": "https:\\/\\/github\\.com\\/IGVF-DACC\\/igvf-catalog\\/blob\\/dev\\/data\\/adapters\\/(.)*\\.py"
            },
            "submissionExample": {
                "appscript": "[\"https://github.com/IGVF-DACC/igvf-catalog/blob/dev/data/adapters/ccre_adapter.py\"]",
                "igvf_utils": "https://github.com/IGVF-DACC/igvf-catalog/blob/dev/data/adapters/ccre_adapter.py"
            }
        },
        "catalog_method": {
            "title": "Catalog Method",
            "type": "string",
            "permission": "admin_only",
            "description": "The method curated in the IGVF catalog that the non-IGVF data in this file processed with",
            "comment": "Do not submit. This is set by admins for data loading in the IGVF catalog",
            "enum": [
                "ADASTRA",
                "coexpression",
                "eQTL",
                "GWAS",
                "GVATdb",
                "pQTL",
                "splice_QTL"
            ],
            "submissionExample": {
                "appscript": "ADASTRA",
                "igvf_utils": "ADASTRA"
            },
            "enum_descriptions": {
                "ADASTRA": "A database of allele-specific transcription factor binding in human tissues.",
                "coexpression": "A method that describes correlated expression patterns between genes.",
                "eQTL": "A method that links genetic variants to gene expression differences.",
                "GWAS": "A method that identifies associations between genetic variants and traits or diseases.",
                "GVATdb": "Genetic Variants Allelic TF Binding Database (GVATdb) is a database that curates genetic variants associated with allele-specific transcription factor binding.",
                "pQTL": "A method that links genetic variants to protein abundance differences.",
                "splice_QTL": "A method that links genetic variants to splicing differences."
            }
        },
        "content_type": {
            "comment": "Content Type describes the content of the file.",
            "oneOf": [
                {
                    "enum": [
                        "exclusion list",
                        "genome index",
                        "genome reference",
                        "guide RNA sequences reference",
                        "inclusion list",
                        "nascent transcriptome index",
                        "spike-ins",
                        "transcriptome index",
                        "transcriptome reference"
                    ]
                },
                {
                    "enum": [
                        "allele specific binding",
                        "caQTL",
                        "coding variants",
                        "coexpression",
                        "complexes",
                        "documentation (readme)",
                        "drugs",
                        "element quantifications",
                        "element to gene interactions",
                        "elements reference",
                        "eQTL",
                        "functional conservation mapping",
                        "gene dependency",
                        "gene disease links",
                        "genes",
                        "genes in pathway",
                        "GO annotation",
                        "GWAS",
                        "linkage disequilibrium",
                        "motif protein mapping",
                        "motifs",
                        "ontology terms",
                        "orthologs",
                        "pathway hierarchy",
                        "pathways",
                        "pQTL",
                        "protein protein interactions",
                        "proteins",
                        "spliceQTL",
                        "variant disease links",
                        "variant drug annotations",
                        "variants"
                    ],
                    "permission": "admin_only"
                }
            ],
            "enum_descriptions": {
                "genome reference": "A sequence file assembled to represent the reference genome for a specific species.",
                "exclusion list": "An exclusion list file contains a set of genomic regions or specific sequences that should be ignored or excluded during data analysis.",
                "genome index": "A reference file consisting of genome index which allows for faster alignment of sequencing reads to the genome.",
                "guide RNA sequences reference": "A reference file comprised of concatenated guide RNA sequences intended for use as an alignment or mapping reference. Unlike 'guide RNA sequences' on tabular file, which follow a standardized tabular format with metadata about each guide, this file contains only the raw sequences.",
                "inclusion list": "An inclusion list file contains a set of specific genomic regions or sequences that should be included or focused on during data analysis.",
                "spike-ins": "Nucleic acid fragments of known sequence and quantity used for calibration in high-throughput sequencing.",
                "nascent transcriptome index": "A reference file consisting of nascent transcriptome index which contains both nascent transcripts and cDNAs and therefore can be used for applications where quantifying intron-spanning reads is important, such as single-nucleus RNA-seq or biophysical models that jointly consider spliced and unspliced transcripts.",
                "transcriptome index": "A reference file consisting of standard transcriptome index which does not contain introns and is therefore only suitable for quantifying bulk and single-cell RNA-seq.",
                "transcriptome reference": "A reference file consisting of all known transcripts or coding regions of the genome.",
                "allele specific binding": "Data describing differential binding events associated with specific alleles.",
                "caQTL": "Quantitative trait loci linking genetic variants to chromatin accessibility differences.",
                "coding variants": "Variants located within protein-coding regions of genes.",
                "coexpression": "Data describing correlated expression patterns between genes.",
                "complexes": "Information describing macromolecular complexes.",
                "documentation (readme)": "Human-readable documentation describing the contents or usage of a dataset.",
                "drugs": "Information describing drugs or chemical compounds.",
                "element quantifications": "Quantitative measurements associated with genomic or regulatory elements.",
                "element to gene interactions": "Mappings describing relationships between genomic elements and genes.",
                "elements reference": "A reference file defining genomic or regulatory elements.",
                "eQTL": "Quantitative trait loci linking genetic variants to gene expression differences.",
                "functional conservation mapping": "Mappings describing conserved functional features across species.",
                "gene dependency": "Data describing gene dependency relationships.",
                "gene disease links": "Associations between genes and diseases or phenotypes.",
                "genes": "Reference information describing genes.",
                "genes in pathway": "Mappings describing which genes participate in specific biological pathways.",
                "GO annotation": "Annotations linking genes or proteins to Gene Ontology terms.",
                "GWAS": "Results or annotations from genome-wide association studies.",
                "linkage disequilibrium": "Information describing non-random associations between genetic variants.",
                "motif protein mapping": "Mappings describing associations between sequence motifs and proteins.",
                "motifs": "Reference definitions of recurring sequence patterns.",
                "ontology terms": "Controlled vocabulary terms organized within an ontology.",
                "orthologs": "Mappings describing orthologous genes across species.",
                "pathway hierarchy": "Hierarchical relationships between biological pathways.",
                "pathways": "Reference information describing biological pathways.",
                "pQTL": "Quantitative trait loci linking genetic variants to protein abundance differences.",
                "protein protein interactions": "Data describing physical or functional interactions between proteins.",
                "proteins": "Reference information describing proteins.",
                "spliceQTL": "Quantitative trait loci linking genetic variants to splicing differences.",
                "variant disease links": "Associations between genetic variants and diseases or phenotypes.",
                "variant drug annotations": "Annotations describing relationships between variants and drug response.",
                "variants": "Reference information describing genetic variants."
            },
            "submissionExample": {
                "appscript": "variants",
                "igvf_utils": "variants"
            }
        },
        "assembly": {
            "description": "Genome assembly applicable for the reference data."
        },
        "file_format": {
            "enum": [
                "bed",
                "csv",
                "dat",
                "fasta",
                "gaf",
                "gds",
                "gtf",
                "obo",
                "owl",
                "PWM",
                "tar",
                "tsv",
                "txt",
                "vcf",
                "xml"
            ],
            "submissionExample": {
                "appscript": "vcf",
                "igvf_utils": "vcf"
            }
        },
        "source_url": {
            "description": "Link to external resource, such as NCBI or GENCODE, where the reference data was obtained.",
            "submissionExample": {
                "appscript": "https://www.ncbi.nlm.nih.gov/dbvar/variants/nsv7098220/",
                "igvf_utils": "https://www.ncbi.nlm.nih.gov/dbvar/variants/nsv7098220/"
            }
        },
        "dbxrefs": {
            "comment": "Supported external resources include: GENCODE, Genome Reference Consortium (GRC), Ensembl., ENCODE",
            "items": {
                "title": "External identifier",
                "description": "Identifier from an external resource that may have 1-to-1 or 1-to-many relationships with IGVF file objects.",
                "type": "string",
                "minItems": 1,
                "pattern": "^(GENCODE|GRC|ENSEMBL|ENCODE):.+$"
            },
            "submissionExample": {
                "appscript": "[\"GENCODE:Release 44\", \"GRC:GCA_000001405.29_GRCh38.p14\", \"ENSEMBL:ENSG00000101126\"]",
                "igvf_utils": "GENCODE:Release 44, GRC:GCA_000001405.29_GRCh38.p14, ENSEMBL:ENSG00000101126"
            }
        },
        "sources": {
            "$merge": "mixins.json#/product_info/sources"
        }
    },
    "fuzzy_searchable_fields": [
        "aliases",
        "assay_titles",
        "content_type",
        "description",
        "file_format_specifications.description",
        "file_set.samples.summary",
        "file_set.summary",
        "integrated_in.samples.summary",
        "lab.title",
        "submitted_by.title",
        "submitted_file_name",
        "summary",
        "workflows.name"
    ],
    "exact_searchable_fields": [
        "@type",
        "assembly",
        "dbxrefs",
        "file_format",
        "file_set.accession",
        "source_url",
        "transcriptome_annotation"
    ],
    "changelog": "/profiles/changelogs/reference_file.md"
}
