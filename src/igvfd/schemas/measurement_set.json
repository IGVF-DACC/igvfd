{
    "title": "Measurement Set",
    "$id": "/profiles/measurement_set.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Schema for a measurement set.",
    "type": "object",
    "required": [
        "award",
        "lab",
        "assay_term"
    ],
    "identifyingProperties": [
        "uuid",
        "accession",
        "alternate_accessions",
        "aliases"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "file_set.json#/properties"
        },
        {
            "$ref": "mixins.json#/basic_item"
        },
        {
            "$ref": "mixins.json#/accession"
        },
        {
            "$ref": "mixins.json#/attribution"
        },
        {
            "$ref": "mixins.json#/documents"
        }
    ],
    "dependentSchemas": {
        "$merge": [
            "file_set.json#/dependentSchemas"
        ]
    },
    "dependentRequired": {
        "moi": [
            "construct_libraries"
        ]
    },
    "properties": {
        "schema_version": {
            "default": "3"
        },
        "assay_term": {
            "title": "Assay Term",
            "description": "The assay used to produce data in this measurement set.",
            "comment": "See assay_term.json for available identifiers.",
            "type": "string",
            "linkTo": "AssayTerm"
        },
        "library_construction_platform": {
            "title": "Library Construction Platform",
            "description": "The platform used to construct the library sequenced in this measurement set.",
            "comment": "See platform_term.json for available identifiers.",
            "type": "string",
            "linkTo": "PlatformTerm"
        },
        "protocol": {
            "title": "Protocol",
            "description": "Link to the protocol for conducting the assay on Protocols.io.",
            "type": "string",
            "pattern": "^https://www\\.protocols\\.io/(\\S*)$"
        },
        "construct_libraries": {
            "title": "Construct Libraries",
            "description": "The construct libraries of vectors introduced to the biosample used to produce data in this measurement set.",
            "comment": "See construct_library.json for available identifiers.",
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
                "title": "Construct Library",
                "type": "string",
                "linkTo": "ConstructLibrary"
            }
        },
        "preferred_assay_title": {
            "title": "Preferred Assay Title",
            "description": "The custom, lab preferred label for the experiment performed in this measurement set.",
            "type": "string",
            "enum": [
                "Perturb-seq",
                ""
            ]
        },
        "moi": {
            "title": "Multiplicity Of Infection",
            "description": "The actual multiplicity of infection (MOI) for vectors introduced to the biosample used to produce data in this measurement set. At least one construct library must be specified in order to specify MOI. This property should capture the actual MOI, and not the targeted MOI.",
            "type": "number"
        }
    },
    "boost_values": {
        "@type": 1.0,
        "assay_term": 1.0,
        "protocol": 1.0
    },
    "changelog": "/profiles/changelogs/measurement_set.md"
}
