{
    "title": "Measurement Set",
    "$id": "/profiles/measurement_set.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "A file set for a distinct measurement, such as the sequencing of a genomic library generated by an experiment performed on a cell line. A measurement set contains the raw data files generated by the measurement.",
    "type": "object",
    "required": [
        "award",
        "lab",
        "assay_term",
        "samples",
        "file_set_type"
    ],
    "identifyingProperties": [
        "uuid",
        "accession",
        "alternate_accessions",
        "aliases"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "file_set.json#/properties"
        },
        {
            "$ref": "mixins.json#/basic_item"
        },
        {
            "$ref": "mixins.json#/accession"
        },
        {
            "$ref": "mixins.json#/attribution"
        },
        {
            "$ref": "mixins.json#/documents"
        },
        {
            "$ref": "mixins.json#/publication_identifiers"
        }
    ],
    "dependentSchemas": {
        "$merge": [
            "file_set.json#/dependentSchemas"
        ]
    },
    "properties": {
        "schema_version": {
            "default": "10"
        },
        "assay_term": {
            "title": "Assay Term",
            "description": "The assay used to produce data in this measurement set.",
            "comment": "See assay_term.json for available identifiers.",
            "type": "string",
            "linkTo": "AssayTerm",
            "submissionExample": {
                "appscript": "/assay-terms/OBI_0002762/ or igvf:snATAC-seq",
                "igvf_utils": "/assay-terms/OBI_0002762/ or igvf:snATAC-seq"
            }
        },
        "library_construction_platform": {
            "title": "Library Construction Platform",
            "description": "The platform used to construct the library sequenced in this measurement set.",
            "comment": "See platform_term.json for available identifiers.",
            "type": "string",
            "linkTo": "PlatformTerm",
            "submissionExample": {
                "appscript": "/platform-terms/EFO_0008567/ or igvf:illumina-hiseq-x",
                "igvf_utils": "/platform-terms/EFO_0008567/ or igvf:illumina-hiseq-x"
            }
        },
        "protocol": {
            "title": "Protocol",
            "description": "Link to the protocol for conducting the assay on Protocols.io.",
            "type": "string",
            "pattern": "^https://www\\.protocols\\.io/(\\S+)$",
            "submissionExample": {
                "appscript": "https://www.protocols.io/link/to/protocol",
                "igvf_utils": "https://www.protocols.io/link/to/protocol"
            }
        },
        "preferred_assay_title": {
            "title": "Preferred Assay Title",
            "description": "The custom lab preferred label for the experiment performed in this measurement set.",
            "type": "string",
            "enum": [
                "10x multiome",
                "10x multiome with MULTI-seq",
                "AAV-MPRA",
                "CERES-seq",
                "Cell painting",
                "CRISPR FlowFISH",
                "DOGMA-seq",
                "lentiMPRA",
                "MERFISH",
                "MIAA",
                "mN2H",
                "MPRA (scQer)",
                "MULTI-seq",
                "Parse Split-seq",
                "Perturb-seq",
                "Saturation genome editing",
                "scNT-seq",
                "semi-qY2H",
                "SHARE-Seq",
                "smFISH",
                "snmC-Seq2",
                "snMCT-seq",
                "snM3C-seq",
                "SUPERSTARR",
                "TAP-seq",
                "VAMP-seq",
                "Variant FlowFISH",
                "Variant painting",
                "Yeast two-hybrid",
                "yN2H"
            ],
            "submissionExample": {
                "appscript": "10x multiome",
                "igvf_utils": "10x multiome"
            }
        },
        "readout": {
            "title": "Readout",
            "description": "The assay term corresponding to the data readout of this measurement set.",
            "comment": "This property should be used on CRISPR screen and MPRA measurement sets. See assay_term.json for available identifiers.",
            "type": "string",
            "linkTo": "AssayTerm",
            "submissionExample": {
                "appscript": "/assay-terms/OBI_0000716/ or igvf:chip-seq",
                "igvf_utils": "/assay-terms/OBI_0000716/ or igvf:chip-seq"
            }
        },
        "multiome_size": {
            "title": "Multiome Size",
            "description": "The number of datasets included in the multiome experiment this measurement set is a part of.",
            "type": "integer",
            "minimum": 2,
            "submissionExample": {
                "appscript": 2,
                "igvf_utils": 2
            }
        },
        "control_file_sets": {
            "title": "Controls",
            "description": "File sets that can serve as scientific controls for this measurement_set.",
            "type": "array",
            "minimum": 1,
            "uniqueItems": true,
            "items": {
                "title": "Control",
                "description": "File sets that can serve as scientific controls for this measurement_set.",
                "comment": "See fileset.json for a list of available identifiers.",
                "type": "string",
                "linkTo": "FileSet"
            },
            "submissionExample": {
                "appscript": "[\"john-doe:measurement_set01\", \"TSTDS98084730\"]",
                "igvf_utils": "john-doe:measurement_set01, TSTDS98084730"
            }
        },
        "sequencing_library_types": {
            "title": "Sequencing Library Types",
            "description": "Description of the libraries sequenced in this measurement set.",
            "type": "array",
            "minimum": 1,
            "uniqueItems": true,
            "items": {
                "title": "Sequencing Library Type",
                "type": "string",
                "enum": [
                    "direct RNA",
                    "exome capture",
                    "mRNA enriched",
                    "rRNA depleted",
                    "polyA depleted",
                    "polyA enriched"
                ]
            },
            "submissionExample": {
                "appscript": "[\"direct RNA\", \"exome capture\"]",
                "igvf_utils": "direct RNA, exome capture"
            }
        },
        "auxiliary_sets": {
            "title": "Auxiliary Sets",
            "description": "The auxiliary sets of files produced alongside raw data from this measurement set.",
            "type": "array",
            "minimum": 1,
            "uniqueItems": true,
            "items": {
                "title": "Auxiliary Set",
                "description": "An auxiliary set of files produced alongside raw data from this measurement set.",
                "comment": "See auxiliary_set.json for a list of available identifiers.",
                "type": "string",
                "linkTo": "AuxiliarySet"
            },
            "submissionExample": {
                "appscript": "[\"john-doe:auxiliary_set01\", \"TSTDS98084731\"]",
                "igvf_utils": "john-doe:auxiliary_set01, TSTDS98084731"
            }
        },
        "file_set_type": {
            "type": "string",
            "description": "The category that best describes this measurement set.",
            "enum": [
                "experimental data"
            ],
            "submissionExample": {
                "appscript": "experimental data",
                "igvf_utils": "experimental data"
            }
        }
    },
    "fuzzy_searchable_fields": [
        "@type",
        "assay_term.term_name",
        "readout.term_name",
        "samples.modifications.modality",
        "collections",
        "lab.title",
        "preferred_assay_title",
        "samples.summary",
        "samples.sample_terms.term_name",
        "samples.targeted_sample_term.term_name",
        "submitted_by.title",
        "summary"
    ],
    "exact_searchable_fields": [
        "auxiliary_sets.accession",
        "auxiliary_sets.aliases",
        "dbxrefs",
        "files.accession",
        "files.aliases",
        "related_multiome_datasets.accession",
        "control_file_sets.accession",
        "control_file_sets.aliases",
        "control_for.accession",
        "control_for.aliases",
        "samples.accession",
        "samples.aliases",
        "samples.classification",
        "donors.accession",
        "donors.aliases"
    ],
    "changelog": "/profiles/changelogs/measurement_set.md"
}
