{
    "title": "Sample",
    "$id": "/profiles/sample.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Abstract schema for submitting a specific biological or synthetic sample.",
    "type": "object",
    "required": [
        "award",
        "lab",
        "source"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "mixins.json#/basic_item"
        },
        {
            "$ref": "mixins.json#/accession"
        },
        {
            "$ref": "mixins.json#/attribution"
        },
        {
            "$ref": "mixins.json#/documents"
        },
        {
            "$ref": "mixins.json#/product_info"
        },
        {
            "$ref": "mixins.json#/url"
        }
    ],
    "dependentSchemas": {
        "lot_id": {
            "required": [
                "product_id"
            ],
            "comment": "Sample with lot_id must include product_id."
        }
    },
    "properties": {
        "schema_version": {
            "hidden comment": "Bump the default in the subclasses."
        },
        "accession": {
            "accessionType": "SM"
        },
        "starting_amount": {
            "title": "Starting amount",
            "description": "The initial quantity of samples obtained.",
            "type": "number",
            "minimum": 0
        },
        "starting_amount_units": {
            "title": "Starting amount units",
            "description": "The units used to quantify the amount of samples obtained.",
            "type": "string",
            "enum": [
                "cells",
                "cells/ml",
                "g",
                "items",
                "mg",
                "whole animals",
                "whole embryos",
                "Î¼g",
                "ng"
            ]
        },
        "dbxrefs": {
            "@type": "@id",
            "rdfs:subPropertyOf": "rdfs:seeAlso",
            "title": "External resources",
            "description": "Biosample identifiers from external resources, such as Biosample database or Cellosaurus.",
            "comment": "Do not submit. DCC personnel is responsible for submission of biosample external resource identifiers.",
            "permission": "import_items",
            "type": "array",
            "default": [],
            "uniqueItems": true,
            "items": {
                "title": "External identifier",
                "description": "An identifier from external resource.",
                "type": "string",
                "pattern": "^((GEO:SAMN\\d+)|(Cellosaurus:CVCL_\\w{4}))$"
            }
        },
        "date_obtained": {
            "title": "Date obtained",
            "description": "The date the sample was harvested, dissected or created, depending on the type of the sample.",
            "comment": "Date should be submitted in as YYYY-MM-DD.",
            "type": "string",
            "format": "date"
        }
    }
}
