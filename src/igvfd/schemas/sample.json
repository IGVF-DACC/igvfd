{
    "title": "Sample",
    "$id": "/profiles/sample.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Abstract schema for submitting a specific biological or synthetic sample.",
    "type": "object",
    "required": [
        "award",
        "lab",
        "sources"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "mixins.json#/basic_item"
        },
        {
            "$ref": "mixins.json#/accession"
        },
        {
            "$ref": "mixins.json#/attribution"
        },
        {
            "$ref": "mixins.json#/documents"
        },
        {
            "$ref": "mixins.json#/product_info"
        },
        {
            "$ref": "mixins.json#/url"
        },
        {
            "$ref": "mixins.json#/publication_identifiers"
        }
    ],
    "dependentSchemas": {
        "lot_id": {
            "required": [
                "product_id"
            ],
            "comment": "A sample with lot_id must include product_id."
        },
        "sorted_fraction": {
            "required": [
                "sorted_fraction_detail"
            ],
            "comment": "A sample with sorted_fraction must include sorted_fraction_detail."
        },
        "sorted_fraction_detail": {
            "required": [
                "sorted_fraction"
            ],
            "comment": "A sample with sorted_fraction_detail must include sorted_fraction."
        },
        "starting_amount": {
            "required": [
                "starting_amount_units"
            ],
            "comment": "A sample with starting_amount must include starting_amount_units."
        },
        "starting_amount_units": {
            "required": [
                "starting_amount"
            ],
            "comment": "A sample with starting_amount must include starting_amount_units."
        }
    },
    "properties": {
        "schema_version": {
            "hidden comment": "Bump the default in the subclasses."
        },
        "accession": {
            "accessionType": "SM"
        },
        "starting_amount": {
            "title": "Starting Amount",
            "description": "The initial quantity of samples obtained.",
            "type": "number",
            "minimum": 0
        },
        "starting_amount_units": {
            "title": "Starting Amount Units",
            "description": "The units used to quantify the amount of samples obtained.",
            "type": "string",
            "enum": [
                "cells",
                "cells/ml",
                "g",
                "items",
                "mg",
                "whole animals",
                "whole embryos",
                "Î¼g",
                "ng"
            ]
        },
        "dbxrefs": {
            "@type": "@id",
            "rdfs:subPropertyOf": "rdfs:seeAlso",
            "title": "External Resources",
            "description": "Biosample identifiers from external resources, such as Biosample database or Cellosaurus.",
            "comment": "Do not submit. DCC personnel is responsible for submission of biosample external resource identifiers.",
            "permission": "import_items",
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
                "title": "External Identifier",
                "description": "An identifier from external resource.",
                "type": "string",
                "pattern": "^((GEO:SAMN\\d+)|(Cellosaurus:CVCL_\\w{4}))$"
            }
        },
        "date_obtained": {
            "title": "Date Obtained",
            "description": "The date the sample was harvested, dissected or created, depending on the type of the sample.",
            "comment": "Date should be submitted in as YYYY-MM-DD.",
            "type": "string",
            "format": "date"
        },
        "sorted_fraction": {
            "title": "Sorted Fraction",
            "description": "Links to a larger sample from which this sample was obtained through sorting.",
            "comment": "The parent sample is expected to have similar properties to its fraction. A sample with sorted_fraction must include sorted_fraction_detail.",
            "type": "string",
            "linkTo": "Sample"
        },
        "sorted_fraction_detail": {
            "title": "Sorted Fraction Detail",
            "description": "Detail for sample sorted into fractions capturing information about sorting.",
            "comment": "For example, FACS 10% expression of CTCF-GFP. A sample with sorted_fraction_detail must include sorted_fraction.",
            "type": "string"
        },
        "virtual": {
            "title": "Virtual",
            "description": "Sample is virtual.",
            "type": "boolean",
            "default": false
        }
    }
}
