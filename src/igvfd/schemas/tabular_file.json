{
    "title": "Tabular File",
    "$id": "/profiles/tabular_file.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "A file containing textual data with a tabular structure.",
    "required": [
        "award",
        "lab",
        "md5sum",
        "file_format",
        "file_set",
        "content_type"
    ],
    "identifyingProperties": [
        "uuid",
        "accession",
        "alternate_accessions",
        "aliases",
        "md5sum"
    ],
    "additionalProperties": false,
    "mixinProperties": [
        {
            "$ref": "file.json#/properties"
        },
        {
            "$ref": "mixins.json#/basic_item"
        },
        {
            "$ref": "mixins.json#/accession"
        },
        {
            "$ref": "mixins.json#/attribution"
        },
        {
            "$ref": "mixins.json#/documents"
        },
        {
            "$ref": "mixins.json#/transcriptome_annotation"
        }
    ],
    "dependentSchemas": {
        "$merge": [
            "file.json#/dependentSchemas"
        ],
        "transcriptome_annotation": {
            "comment": "The assembly shoud be consistent with annotation versions of respective species.",
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "assembly": {
                                "const": "GRCm39"
                            }
                        },
                        "required": [
                            "assembly"
                        ]
                    },
                    "then": {
                        "properties": {
                            "transcriptome_annotation": {
                                "enum": [
                                    "GENCODE M30",
                                    "GENCODE M31",
                                    "GENCODE M32"
                                ]
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "assembly": {
                                "const": "GRCh38"
                            }
                        },
                        "required": [
                            "assembly"
                        ]
                    },
                    "then": {
                        "properties": {
                            "transcriptome_annotation": {
                                "enum": [
                                    "GENCODE 40",
                                    "GENCODE 41",
                                    "GENCODE 42",
                                    "GENCODE 43"
                                ]
                            }
                        }
                    }
                }
            ]
        }
    },
    "type": "object",
    "properties": {
        "schema_version": {
            "default": "1"
        },
        "content_type": {
            "comment": "Content Type describes the content of the file. Genome reference are composite nucleic acid sequences assembled from the sequence of several different individual organisms representing the species. Guide RNA sequences are sequences of RNA molecules used in assays involving CRISPR editing. Sequence barcodes are lists of barcodes found in the sequencing library. Spike-ins are nucleic acid fragments of known sequence and quantity used for calibration in high-throughput sequencing. Transcriptome references are transcriptomic sequences of an idealized representative individual in a species. Vector sequences are sequences tested in MPRAs.",
            "enum": [
                "biological_context",
                "complexes",
                "complexes_complexes",
                "complexes_proteins",
                "complexes_terms",
                "diseases_genes",
                "drugs",
                "elements_genes",
                "exclusion list",
                "genes",
                "genes_genes",
                "genes_pathways",
                "genes_terms",
                "genes_transcripts",
                "genome reference",
                "go_terms_proteins",
                "guide RNA sequences",
                "inclusion list",
                "motifs",
                "motifs_proteins",
                "ontology_terms",
                "ontology_terms_ontology_terms",
                "pathways",
                "pathways_pathways",
                "proteins",
                "regulatory_regions",
                "sequence barcodes",
                "spike-ins",
                "studies",
                "studies_variants",
                "studies_variants_phenotypes",
                "transcriptome reference",
                "transcripts",
                "transcripts_proteins",
                "variants",
                "variants_drugs",
                "variants_drugs_genes",
                "variants_genes",
                "variants_proteins",
                "variants_proteins_terms",
                "variants_regulatory_regions",
                "variants_variants",
                "vector sequences"
            ],
            "submissionExample": {
                "appscript": "variants",
                "igvf_utils": "variants"
            }
        },
        "file_format": {
            "enum": [
                "bed",
                "bedpe",
                "csv",
                "gtf",
                "tsv",
                "txt",
                "vcf"
            ],
            "submissionExample": {
                "appscript": "tsv",
                "igvf_utils": "tsv"
            }
        },
        "assembly": {
            "title": "Genome Assembly",
            "description": "Genome assembly applicable for the tabular data.",
            "type": "string",
            "enum": [
                "GRCh38",
                "hg19",
                "GRCm39",
                "mm10"
            ],
            "submissionExample": {
                "appscript": "GRCh38",
                "igvf_utils": "GRCh38"
            }
        }
    },
    "fuzzy_searchable_fields": [
        "content_type"
    ],
    "exact_searchable_fields": [
        "@type",
        "dbxrefs",
        "file_format"
    ],
    "changelog": "/profiles/changelogs/tabular_file.md"
}
